plot.background = element_rect(fill="grey90", colour = "black", size=2))
ggasymp
data.asymp <- data.frame(Totasymp=c(12,41,23,85),Status=c("Asymptomatic","Asymptomatic","Symptomatic","Symptomatic"),Links=c("Staff","Resident","Staff","Resident"))
ggasymp <- ggplot(data.asymp)+geom_bar(aes(y=Links,x=Totasymp,fill=Status,group=Status),width=0.6,stat = "identity",position=position_dodge(width=0.7))+scale_fill_brewer(palette="Pastel2")+#scale_fill_manual(values = c("Asymptomatic"="#999999", "Symptomatic"="#56B4E9"))+
theme_bw()+ylab("")+ggtitle("")+theme(legend.position = "bottom")+labs(fill="")+xlab("Total cases")+theme(legend.text = element_text(size=11),axis.text = element_text(size=10),
panel.background = element_rect(fill = "white"),
plot.margin = margin(2, 2, 2, 2, "cm"),
plot.background = element_rect(fill="grey90", colour = "black"))
ggasymp
ggasymp <- ggplot(data.asymp)+geom_bar(aes(y=Links,x=Totasymp,fill=Status,group=Status),width=0.6,stat = "identity",position=position_dodge(width=0.7))+scale_fill_brewer(palette="Pastel2")+#scale_fill_manual(values = c("Asymptomatic"="#999999", "Symptomatic"="#56B4E9"))+
theme_bw()+ylab("")+ggtitle("")+theme(legend.position = "bottom")+labs(fill="")+xlab("Total cases")+theme(legend.text = element_text(size=11),axis.text = element_text(size=10),
panel.background = element_rect(fill = "white"),
plot.margin = margin(2, 2, 2, 2, "cm"),
plot.background = element_rect(fill="white", colour = "black"))
ggasymp
ggasymp <- ggplot(data.asymp)+geom_bar(aes(y=Links,x=Totasymp,fill=Status,group=Status),width=0.6,stat = "identity",position=position_dodge(width=0.7))+scale_fill_brewer(palette="Pastel2")+#scale_fill_manual(values = c("Asymptomatic"="#999999", "Symptomatic"="#56B4E9"))+
theme_bw()+ylab("")+ggtitle("")+theme(legend.position = "bottom")+labs(fill="")+xlab("Total cases")+theme(legend.text = element_text(size=11),axis.text = element_text(size=10),
panel.background = element_rect(fill = "white"),
plot.margin = margin(2, 2, 2, 2, "cm"),
plot.background = element_rect(fill="white", colour = "white"))
dev.new()
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
ggasymp <- ggplot(data.asymp)+geom_bar(aes(y=Links,x=Totasymp,fill=Status,group=Status),width=0.6,stat = "identity",position=position_dodge(width=0.7))+scale_fill_brewer(palette="Pastel2")+#scale_fill_manual(values = c("Asymptomatic"="#999999", "Symptomatic"="#56B4E9"))+
theme_bw()+ylab("")+ggtitle("")+theme(legend.position = "bottom")+labs(fill="")+xlab("Total cases")+theme(legend.text = element_text(size=11),axis.text = element_text(size=10),
panel.background = element_rect(fill = "white"),
plot.margin = margin(1, 1, 1, 1, "cm"),
plot.background = element_rect(fill="white", colour = "white"))
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
ggasymp <- ggplot(data.asymp)+geom_bar(aes(y=Links,x=Totasymp,fill=Status,group=Status),width=0.6,stat = "identity",position=position_dodge(width=0.7))+scale_fill_brewer(palette="Pastel2")+#scale_fill_manual(values = c("Asymptomatic"="#999999", "Symptomatic"="#56B4E9"))+
theme_bw()+ylab("")+ggtitle("")+theme(legend.position = "bottom")+labs(fill="")+xlab("Total cases")+theme(legend.text = element_text(size=11),axis.text = element_text(size=10),
panel.background = element_rect(fill = "white"),
plot.margin = margin(2, 1, 2, 1, "cm"),
plot.background = element_rect(fill="white", colour = "white"))
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
ggasymp <- ggplot(data.asymp)+geom_bar(aes(y=Links,x=Totasymp,fill=Status,group=Status),width=0.6,stat = "identity",position=position_dodge(width=0.7))+scale_fill_brewer(palette="Pastel2")+#scale_fill_manual(values = c("Asymptomatic"="#999999", "Symptomatic"="#56B4E9"))+
theme_bw()+ylab("")+ggtitle("")+theme(legend.position = "bottom")+labs(fill="")+xlab("Total cases")+theme(legend.text = element_text(size=11),axis.text = element_text(size=10),
panel.background = element_rect(fill = "white"),
plot.margin = margin(0.5, 2, 0.5, 2, "cm"),
plot.background = element_rect(fill="white", colour = "white"))
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
ggasymp <- ggplot(data.asymp)+geom_bar(aes(y=Links,x=Totasymp,fill=Status,group=Status),width=0.6,stat = "identity",position=position_dodge(width=0.7))+scale_fill_brewer(palette="Pastel2")+#scale_fill_manual(values = c("Asymptomatic"="#999999", "Symptomatic"="#56B4E9"))+
theme_bw()+ylab("")+ggtitle("")+theme(legend.position = "bottom")+labs(fill="")+xlab("Total cases")+theme(legend.text = element_text(size=11),axis.text = element_text(size=10),
panel.background = element_rect(fill = "white"),
plot.margin = margin(0, 2, 0, 2, "cm"),
plot.background = element_rect(fill="white", colour = "white"))
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
dim(Eld_Link)
table(Eld_Link$Links)
table(case_merge$asymp,case_merge$Links)
data.asymp <- data.frame(Totasymp=c(14,43,25,86),Status=c("Asymptomatic","Asymptomatic","Symptomatic","Symptomatic"),Links=c("Staff","Resident","Staff","Resident"))
ggasymp <- ggplot(data.asymp)+geom_bar(aes(y=Links,x=Totasymp,fill=Status,group=Status),width=0.6,stat = "identity",position=position_dodge(width=0.7))+scale_fill_brewer(palette="Pastel2")+#scale_fill_manual(values = c("Asymptomatic"="#999999", "Symptomatic"="#56B4E9"))+
theme_bw()+ylab("")+ggtitle("")+theme(legend.position = "bottom")+labs(fill="")+xlab("Total cases")+theme(legend.text = element_text(size=11),axis.text = element_text(size=10),
panel.background = element_rect(fill = "white"),
plot.margin = margin(0, 2, 0, 2, "cm"),
plot.background = element_rect(fill="white", colour = "white"))
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
View(ggasymp)
ggbeds <- ggplot(data.beds)+geom_bar(aes(x=RCHE,y=beds,fill=RCHE),width=0.4,stat="identity")+scale_fill_manual(values=colorpanels_2)+theme_classic()+theme(legend.position = "right",axis.ticks.x=element_blank(),
axis.text.x=element_blank(),legend.text = element_text(size=11),legend.key.size = unit(1,"line"))+xlab("")+ylim(c(0,200))+ylab("Number of beds")+guides(fill=guide_legend(nrow=3,byrow=TRUE))
leg <- get_legend(ggbeds)
legplot <- as_ggplot(leg)
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
legplot
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
ggbeds <- ggplot(data.beds)+geom_bar(aes(x=RCHE,y=beds,fill=RCHE),width=0.4,stat="identity")+scale_fill_manual(values=colorpanels_2)+theme_classic()+theme(legend.position = "top",axis.ticks.x=element_blank(),
axis.text.x=element_blank(),legend.text = element_text(size=11),legend.key.size = unit(1,"line"))+xlab("")+ylim(c(0,200))+ylab("Number of beds")+guides(fill=guide_legend(nrow=5,byrow=TRUE))
leg <- get_legend(ggbeds)
legplot <- as_ggplot(leg)
case_merge$asymp <- ifelse(is.na(case_merge$onset.date)==TRUE,1,0)
data.asymp <- data.frame(Totasymp=c(14,43,25,86),Status=c("Asymptomatic","Asymptomatic","Symptomatic","Symptomatic"),Links=c("Staff","Resident","Staff","Resident"))
ggasymp <- ggplot(data.asymp)+geom_bar(aes(y=Links,x=Totasymp,fill=Status,group=Status),width=0.6,stat = "identity",position=position_dodge(width=0.7))+scale_fill_brewer(palette="Pastel2")+#scale_fill_manual(values = c("Asymptomatic"="#999999", "Symptomatic"="#56B4E9"))+
theme_bw()+ylab("")+ggtitle("")+theme(legend.position = "bottom")+labs(fill="")+xlab("Total cases")+theme(legend.text = element_text(size=11),axis.text = element_text(size=10),
panel.background = element_rect(fill = "white"),
plot.margin = margin(0, 2, 0, 2, "cm"),
plot.background = element_rect(fill="white", colour = "white"))
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
ggasymp <- ggplot(data.asymp)+geom_bar(aes(y=Links,x=Totasymp,fill=Status,group=Status),width=0.6,stat = "identity",position=position_dodge(width=0.7))+scale_fill_brewer(palette="Pastel2")+#scale_fill_manual(values = c("Asymptomatic"="#999999", "Symptomatic"="#56B4E9"))+
theme_bw()+ylab("")+ggtitle("")+theme(legend.position = "bottom")+labs(fill="")+xlab("Total cases")+theme(legend.text = element_text(size=11),axis.text = element_text(size=10),
panel.background = element_rect(fill = "white"),
plot.margin = margin(0.5, 2, 0.5, 2, "cm"),
plot.background = element_rect(fill="white", colour = "white"))
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
26/90
case_merge[case_merge$asymp==1 & case_merge$Homes=="Cornwall"]
case_merge[case_merge$asymp==1 & case_merge$Homes=="Cornwall",]
case_merge[case_merge$asymp==1,]
case_merge[case_merge$asymp==0,]
case_merge[case_merge$asymp==0 & case_merge$Homes=="Cornwall",]
dim(case_merge[case_merge$asymp==0 & case_merge$Homes=="Cornwall",])
case_merge[case_merge$asymp==0,]
case_merge[case_merge$asymp==0,]
case_merge[case_merge$asymp==0 & case_merge$Homes,]
case_merge[case_merge$asymp==0 & case_merge$Homes=="NamShan",]
case_merge[case_merge$asymp==0 & case_merge$Homes=="SanPoKong",]
case_merge[case_merge$asymp==0 & case_merge$Homes=="SheungOn",]
case_merge[case_merge$asymp==0 & case_merge$Homes=="KowloonBay",]
dim(case_merge)
table(case_merge$death)
38/168
168/11695
table(case_merge$death,case_merge$Links)
14+43
14+43+25+86
57/168
38/209
64/76
29/76
0.5/0.6
0.5/0.4
library('ggplot2')
library('ggExtra')
library('ggpubr')
library('gridExtra')
library('viridis')
library('incidence')
year.freq <- c(rep("2021",2), rep("2020",16), rep("2019",15), rep("2018",6),
rep("2017",7), rep("2016",6), rep("2015",8), rep("2014",7),
rep("2013",1), rep("2012",2), rep("2011",2), rep("2010",1),
rep("2009",2), rep("2006",3), rep("1999",4), rep("1998",1),
rep("1997",1), rep("1992",2))
year.freq <- c(rep("2021",2), rep("2020",15), rep("2019",12), rep("2018",6),
rep("2017",5), rep("2016",6), rep("2015",6), rep("2014",7),
rep("2013",1), rep("2012",2), rep("2011",2), rep("2010",1),
rep("2009",1), rep("2006",2), rep("1999",4), rep("1998",1),
rep("1997",1), rep("1992",2))
year.inc <- as.Date(year.freq, "%Y")
path.red <- rev(c("Pertussis", "Other", "Pertussis", "Influenza", rep("Pertussis",2), "Other",
rep("Influenza",2), rep("Influenza",4),
"Pneumococcus", rep("Influenza",6), "Other", rep("Influenza",3),
"Pertussis", rep("Influenza", 4), rep("Other",1), rep("Influenza",4),
rep("Pertussis",2), "Influenza", "Pertussis", "Influenza", "Other","Influenza",
"Influenza", "Pneumococcus", rep("Influenza",2), "Pertussis", rep("Influenza",7),
rep("Pneumococcus", 1), rep("Influenza",22)))
path.red = factor(path.red, levels=c("Other", "Pneumococcus", "Pertussis", "Influenza"))
inc.years <- incidence(year.inc,"years",group=path.red)
plot(inc.years, alpha=1, border="white")+
theme_bw()+
removeGridX()+
xlab("Publication year")+
ylab("Frequency")+
labs(fill="Pathogen")+
scale_fill_manual(values=rev(c("#FDE725FF","#29AF7FFF","#287D8EFF", "#453781FF")),
breaks=c("Influenza","Pertussis","Pneumococcus", "Other"))+
scale_x_date(limits=as.Date(c("1990-01-01", "2022-01-01")),
breaks=as.Date(c("1990-01-01", "2000-01-01","2010-01-01","2020-01-01")),
labels=c("1990", "2000", "2010", "2020"))
25/76
Design <- c( "Retrospective \ncohort","Randomised \ncontrolled trial",
"Systematic review/ \nmeta-analysis", "Test-negative \ndesign", " Prospective cohort",
"Other cohort", "Case-control", "Cross-sectional")
Design <- factor(Design, levels=rev( c( "Retrospective \ncohort","Randomised \ncontrolled trial",
"Systematic review/ \nmeta-analysis",
"Test-negative \ndesign", " Prospective cohort",
"Other cohort", "Case-control", "Cross-sectional")))
Yes <- c(1, 8, 5, 8, 0, 2, 1, 0)
No <- c(24, 15, 5, 0, 4, 1, 1, 1)
rep <- c(No, Yes)
group <- c(rep("No",9),rep("Yes",9))
group <- factor(group, levels=rev(c("No","Yes")))
VEreport <- data.frame(Design,rep,group)
ggplot(VEreport, aes(x=rep, y=Design, fill=group))+geom_bar(stat="identity")+
scale_fill_manual(values=c("#FDE725FF","#440154FF"))+theme_bw()+ylab("")+
xlab("Number of studies")+labs(fill="Absolute \nVE reported")
Design <- c( "Retrospective \ncohort","Randomised \ncontrolled trial",
"Systematic review/ \nmeta-analysis", "Test-negative \ndesign", " Prospective cohort",
"Other cohort", "Case-control", "Cross-sectional")
Design <- factor(Design, levels=rev( c( "Retrospective \ncohort","Randomised \ncontrolled trial",
"Systematic review/ \nmeta-analysis",
"Test-negative \ndesign", " Prospective cohort",
"Other cohort", "Case-control", "Cross-sectional")))
Yes <- c(1, 8, 5, 8, 0, 2, 1, 0)
No <- c(24, 15, 5, 0, 4, 1, 1, 1)
rep <- c(No, Yes)
group <- c(rep("No",8),rep("Yes",8))
group <- factor(group, levels=rev(c("No","Yes")))
VEreport <- data.frame(Design,rep,group)
ggplot(VEreport, aes(x=rep, y=Design, fill=group))+geom_bar(stat="identity")+
scale_fill_manual(values=c("#FDE725FF","#440154FF"))+theme_bw()+ylab("")+
xlab("Number of studies")+labs(fill="Absolute \nVE reported")
38/76
28/76
27/76
25/76
10/76
24/76
38/0.564
62*0.564
35/76
35/59
40.7*62
0.407*62
25/59
0.161*62
10/59
62*0.387
24/59
0.435*62
27/59
62*0.306
16/59
1/9
0.458*59
26/59
7/9
Age <- c(50, 59.3, 11.1, 66.6, 0, 0, 0, 0)
Sex <- c(36, 42.4, 11.1, 33.3, 0, 0, 0, 0)
Time <- c(13, 16.9, 0, 0, 0, 0, 0, 0)
Comorb <- c(33, 40.7, 11.1, 0, 0, 0, 0, 0, 0)
Region <- c(37, 44.1, 11.1, 33.3, 0, 0, 0, 0)
NR <- c(32, 27.1, 77.8, 33.3, 50.0, 100, 100, 100)
Pathogen <- rep(c("Overall (n=76)", "Influenza (n=59)", "Pertussis (n=9)",
"Pneumococcus (n=3)", "Mumps (n=2)",
"Measles (n=1)", "Hepatitis B (n=1)",
"Leprosy (n=1)"),6)
Age <- c(50, 59.3, 11.1, 66.6, 0, 0, 0, 0)
Sex <- c(36, 42.4, 11.1, 33.3, 0, 0, 0, 0)
Time <- c(13, 16.9, 0, 0, 0, 0, 0, 0)
Comorb <- c(33, 40.7, 11.1, 0, 0, 0, 0, 0, 0)
Region <- c(37, 44.1, 11.1, 33.3, 0, 0, 0, 0)
NR <- c(32, 27.1, 77.8, 33.3, 50.0, 100, 100, 100)
Pathogen <- rep(c("Overall (n=76)", "Influenza (n=59)", "Pertussis (n=9)",
"Pneumococcus (n=3)", "Mumps (n=2)",
"Measles (n=1)", "Hepatitis B (n=1)",
"Leprosy (n=1)"),6)
Pathogen <- factor(Pathogen, levels=rev(c("Overall (n=76)", "Influenza (n=59)",
"Pertussis (n=9)", "Pneumococcus (n=3)",
"Mumps (n=2)",
"Measles (n=1)",
"Hepatitis B (n=1)")))
Covar <- c(Age, Sex, Time, Comorb, Region, NR)
Type <- c(rep("Age",8),rep("Sex",8),rep("Calendar Time",8),rep("Comorbidities",8),
rep("Region",8), rep("Not Reported",8))
Type <- factor(Type,levels=c("Age","Sex","Region","Comorbidities","Calendar Time",
"Not Reported"))
Overall <- c(1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1,
rep(0,7))
ggadj <- data.frame(Pathogen,Covar,Type,Overall)
ggplot(ggadj, aes(x=Covar, y=Pathogen, fill=as.factor(Overall)))+
geom_col()+
facet_wrap(~Type)+
ylab("")+
xlab("Proportion of studies (%)")+
theme_bw()+
scale_fill_manual(values=c("#132B43","#56B1F7"))+
theme(legend.position = "none")
Age <- c(50, 59.3, 11.1, 66.6, 0, 0, 0, 0)
Sex <- c(36, 42.4, 11.1, 33.3, 0, 0, 0, 0)
Time <- c(13, 16.9, 0, 0, 0, 0, 0, 0)
Comorb <- c(33, 40.7, 11.1, 0, 0, 0, 0, 0)
Region <- c(37, 44.1, 11.1, 33.3, 0, 0, 0, 0)
NR <- c(32, 27.1, 77.8, 33.3, 50.0, 100, 100, 100)
Pathogen <- rep(c("Overall (n=76)", "Influenza (n=59)", "Pertussis (n=9)",
"Pneumococcus (n=3)", "Mumps (n=2)",
"Measles (n=1)", "Hepatitis B (n=1)",
"Leprosy (n=1)"),6)
Pathogen <- factor(Pathogen, levels=rev(c("Overall (n=76)", "Influenza (n=59)",
"Pertussis (n=9)", "Pneumococcus (n=3)",
"Mumps (n=2)",
"Measles (n=1)",
"Hepatitis B (n=1)")))
Covar <- c(Age, Sex, Time, Comorb, Region, NR)
Type <- c(rep("Age",8),rep("Sex",8),rep("Calendar Time",8),rep("Comorbidities",8),
rep("Region",8), rep("Not Reported",8))
Type <- factor(Type,levels=c("Age","Sex","Region","Comorbidities","Calendar Time",
"Not Reported"))
Overall <- c(1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1,
rep(0,7))
ggadj <- data.frame(Pathogen,Covar,Type,Overall)
ggplot(ggadj, aes(x=Covar, y=Pathogen, fill=as.factor(Overall)))+
geom_col()+
facet_wrap(~Type)+
ylab("")+
xlab("Proportion of studies (%)")+
theme_bw()+
scale_fill_manual(values=c("#132B43","#56B1F7"))+
theme(legend.position = "none")
Age <- c(50, 59.3, 11.1, 66.6, 0, 0, 0, 0)
Sex <- c(36, 42.4, 11.1, 33.3, 0, 0, 0, 0)
Time <- c(13, 16.9, 0, 0, 0, 0, 0, 0)
Comorb <- c(33, 40.7, 11.1, 0, 0, 0, 0, 0)
Region <- c(37, 44.1, 11.1, 33.3, 0, 0, 0, 0)
NR <- c(32, 27.1, 77.8, 33.3, 50.0, 100, 100, 100)
Pathogen <- rep(c("Overall (n=76)", "Influenza (n=59)", "Pertussis (n=9)",
"Pneumococcus (n=3)", "Mumps (n=2)",
"Measles (n=1)", "Hepatitis B (n=1)",
"Leprosy (n=1)"),6)
Pathogen <- factor(Pathogen, levels=rev(c("Overall (n=76)", "Influenza (n=59)",
"Pertussis (n=9)", "Pneumococcus (n=3)",
"Mumps (n=2)",
"Measles (n=1)",
"Hepatitis B (n=1)", "Leprosy (n=1)")))
Covar <- c(Age, Sex, Time, Comorb, Region, NR)
Type <- c(rep("Age",8),rep("Sex",8),rep("Calendar Time",8),rep("Comorbidities",8),
rep("Region",8), rep("Not Reported",8))
Type <- factor(Type,levels=c("Age","Sex","Region","Comorbidities","Calendar Time",
"Not Reported"))
Overall <- c(1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1,
rep(0,7))
ggadj <- data.frame(Pathogen,Covar,Type,Overall)
ggplot(ggadj, aes(x=Covar, y=Pathogen, fill=as.factor(Overall)))+
geom_col()+
facet_wrap(~Type)+
ylab("")+
xlab("Proportion of studies (%)")+
theme_bw()+
scale_fill_manual(values=c("#132B43","#56B1F7"))+
theme(legend.position = "none")
10/12.1
10/12.4
50/62
#' Graphical user interface to multi-arm trial design determination
#'
#' \code{gui()} run an R Shiny web browser based graphical user interface for
#' running \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_gs_bern}}, \code{\link{des_gs_norm}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}}, and their associated S3
#' plotting functions.
#'
#' @examples
#' # Launch the graphical user interface
#' \dontrun{gui()}
#' @seealso \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_dtl_pois}}, \code{\link{des_gs_bern}},
#' \code{\link{des_gs_norm}}, \code{\link{des_gs_pois}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}},
#' \code{\link{des_ss_pois}},
#' \code{\link{plot.multiarm_des_dtl_bern}},
#' \code{\link{plot.multiarm_des_dtl_norm}},
#' \code{\link{plot.multiarm_des_dtl_pois}},
#' \code{\link{plot.multiarm_des_gs_bern}},
#' \code{\link{plot.multiarm_des_gs_norm}},
#' \code{\link{plot.multiarm_des_gs_pois}},
#' \code{\link{plot.multiarm_des_ss_bern}},
#' \code{\link{plot.multiarm_des_ss_norm}},
#' \code{\link{plot.multiarm_des_ss_pois}}.
#' @export
gui <- function() {
app_dir <- system.file("shiny", "multiarm", package = "multiarm")
if (app_dir == "") {
stop("Could not find required directory for Shiny graphical user ",
"interface. Try re-installing multiarm.")
}
shiny::runApp(app_dir, launch.browser = TRUE, display.mode = "normal")
}
gui()
devtools::install_github("mjg211/multiarm")
#' Graphical user interface to multi-arm trial design determination
#'
#' \code{gui()} run an R Shiny web browser based graphical user interface for
#' running \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_gs_bern}}, \code{\link{des_gs_norm}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}}, and their associated S3
#' plotting functions.
#'
#' @examples
#' # Launch the graphical user interface
#' \dontrun{gui()}
#' @seealso \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_dtl_pois}}, \code{\link{des_gs_bern}},
#' \code{\link{des_gs_norm}}, \code{\link{des_gs_pois}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}},
#' \code{\link{des_ss_pois}},
#' \code{\link{plot.multiarm_des_dtl_bern}},
#' \code{\link{plot.multiarm_des_dtl_norm}},
#' \code{\link{plot.multiarm_des_dtl_pois}},
#' \code{\link{plot.multiarm_des_gs_bern}},
#' \code{\link{plot.multiarm_des_gs_norm}},
#' \code{\link{plot.multiarm_des_gs_pois}},
#' \code{\link{plot.multiarm_des_ss_bern}},
#' \code{\link{plot.multiarm_des_ss_norm}},
#' \code{\link{plot.multiarm_des_ss_pois}}.
#' @export
gui <- function() {
app_dir <- system.file("shiny", "multiarm", package = "multiarm")
if (app_dir == "") {
stop("Could not find required directory for Shiny graphical user ",
"interface. Try re-installing multiarm.")
}
shiny::runApp(app_dir, launch.browser = TRUE, display.mode = "normal")
}
gui()
install.packages('rclipboard')
library('rclipboard')
gui()
install.packages('shinybusy')
library('shinybusy')
gui()
install.packages('sever')
library('sever')
gui()
install.packages('htmltools')
install.packages("htmltools")
library("htmltools")
gui()
#' Graphical user interface to multi-arm trial design determination
#'
#' \code{gui()} run an R Shiny web browser based graphical user interface for
#' running \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_gs_bern}}, \code{\link{des_gs_norm}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}}, and their associated S3
#' plotting functions.
#'
#' @examples
#' # Launch the graphical user interface
#' \dontrun{gui()}
#' @seealso \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_dtl_pois}}, \code{\link{des_gs_bern}},
#' \code{\link{des_gs_norm}}, \code{\link{des_gs_pois}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}},
#' \code{\link{des_ss_pois}},
#' \code{\link{plot.multiarm_des_dtl_bern}},
#' \code{\link{plot.multiarm_des_dtl_norm}},
#' \code{\link{plot.multiarm_des_dtl_pois}},
#' \code{\link{plot.multiarm_des_gs_bern}},
#' \code{\link{plot.multiarm_des_gs_norm}},
#' \code{\link{plot.multiarm_des_gs_pois}},
#' \code{\link{plot.multiarm_des_ss_bern}},
#' \code{\link{plot.multiarm_des_ss_norm}},
#' \code{\link{plot.multiarm_des_ss_pois}}.
#' @export
gui <- function() {
app_dir <- system.file("shiny", "multiarm", package = "multiarm")
if (app_dir == "") {
stop("Could not find required directory for Shiny graphical user ",
"interface. Try re-installing multiarm.")
}
shiny::runApp(app_dir, launch.browser = TRUE, display.mode = "normal")
}
gui()
1/63
45/73
install.packages('devtools')
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
library('devtools')
library(devtools)
install.packages("roxygen2")
library('roxygen2')
library(devtools)
install_github("martinamcm/augbin_rheum")
library(augbinrheum)
Egdata11 <- read.csv("~/Downloads/AugBin-master/Egdata11.csv")
View(Egdata11)
augbinrheum::augbinrheum(Egdata11,1,1,0)
library(devtools)
library(devtools)
install_github("martinamcm/mult_sampsize")
library(multsampsize)
?sampsizecomp
install_github("martinamcm/mult_sampsize")
library(multsampsize)
?sampsizecomp
library(multsampsize)
?sampsizecomp
remove.packages("multsampsize")
install_github("martinamcm/mult_sampsize")
library(devtools)
install_github("martinamcm/mult_sampsize")
library(multsampsize)
?sampsizecomp
?sampsizecomp
?sampsizecomp
library(devtools)
library(multsampsize)
?sampsizecomp
roxygen2::roxygenise()
setwd("~/Documents/GitHub/mult_sampsize")
roxygen2::roxygenise()
remove.packages("multsampsize")
install.packages('martinamcm/multsampsize')
install.packages('martinamcm/mult_sampsize')
install_github('martinamcm/mult_sampsize')
library(multsampsize)
?sampsizecomp
remove.packages("multsampsize")
install_github('martinamcm/mult_sampsize')
library(multsampsize)
?sampsizecomp
library(multsampsize)
?sampsizecomp
roxygen2::roxygenise()
remove.packages("multsampsize")
install_github('martinamcm/mult_sampsize')
library(multsampsize)
?sampsizecomp
roxygen2::roxygenise()
remove.packages("multsampsize")
install_github('martinamcm/mult_sampsize')
library(multsampsize)
sampsizecomp()
?sampsizecomp
roxygen2::roxygenise()
remove.packages("multsampsize")
install_github('martinamcm/mult_sampsize')
library(multsampsize)
?sampsizecomp
augbinrheum::augbinrheum()
85/3235
