panel.background = element_rect(fill = "white"),
plot.margin = margin(0, 2, 0, 2, "cm"),
plot.background = element_rect(fill="white", colour = "white"))
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
ggasymp <- ggplot(data.asymp)+geom_bar(aes(y=Links,x=Totasymp,fill=Status,group=Status),width=0.6,stat = "identity",position=position_dodge(width=0.7))+scale_fill_brewer(palette="Pastel2")+#scale_fill_manual(values = c("Asymptomatic"="#999999", "Symptomatic"="#56B4E9"))+
theme_bw()+ylab("")+ggtitle("")+theme(legend.position = "bottom")+labs(fill="")+xlab("Total cases")+theme(legend.text = element_text(size=11),axis.text = element_text(size=10),
panel.background = element_rect(fill = "white"),
plot.margin = margin(0.5, 2, 0.5, 2, "cm"),
plot.background = element_rect(fill="white", colour = "white"))
#### Figure with panels
ggarrange(ggepiHK,ggarrange(ggons.facet,ggarrange(ggons.facet2,legplot,ggasymp,heights = c(1.2,0.8,1,0.1),nrow=4,labels=c("","","C")),widths = c(1,1.4),labels=c("B","")),nrow=2,heights = c(1,2),labels = "A")
26/90
case_merge[case_merge$asymp==1 & case_merge$Homes=="Cornwall"]
case_merge[case_merge$asymp==1 & case_merge$Homes=="Cornwall",]
case_merge[case_merge$asymp==1,]
case_merge[case_merge$asymp==0,]
case_merge[case_merge$asymp==0 & case_merge$Homes=="Cornwall",]
dim(case_merge[case_merge$asymp==0 & case_merge$Homes=="Cornwall",])
case_merge[case_merge$asymp==0,]
case_merge[case_merge$asymp==0,]
case_merge[case_merge$asymp==0 & case_merge$Homes,]
case_merge[case_merge$asymp==0 & case_merge$Homes=="NamShan",]
case_merge[case_merge$asymp==0 & case_merge$Homes=="SanPoKong",]
case_merge[case_merge$asymp==0 & case_merge$Homes=="SheungOn",]
case_merge[case_merge$asymp==0 & case_merge$Homes=="KowloonBay",]
dim(case_merge)
table(case_merge$death)
38/168
168/11695
table(case_merge$death,case_merge$Links)
14+43
14+43+25+86
57/168
38/209
64/76
29/76
0.5/0.6
0.5/0.4
library('ggplot2')
library('ggExtra')
library('ggpubr')
library('gridExtra')
library('viridis')
library('incidence')
year.freq <- c(rep("2021",2), rep("2020",16), rep("2019",15), rep("2018",6),
rep("2017",7), rep("2016",6), rep("2015",8), rep("2014",7),
rep("2013",1), rep("2012",2), rep("2011",2), rep("2010",1),
rep("2009",2), rep("2006",3), rep("1999",4), rep("1998",1),
rep("1997",1), rep("1992",2))
year.freq <- c(rep("2021",2), rep("2020",15), rep("2019",12), rep("2018",6),
rep("2017",5), rep("2016",6), rep("2015",6), rep("2014",7),
rep("2013",1), rep("2012",2), rep("2011",2), rep("2010",1),
rep("2009",1), rep("2006",2), rep("1999",4), rep("1998",1),
rep("1997",1), rep("1992",2))
year.inc <- as.Date(year.freq, "%Y")
path.red <- rev(c("Pertussis", "Other", "Pertussis", "Influenza", rep("Pertussis",2), "Other",
rep("Influenza",2), rep("Influenza",4),
"Pneumococcus", rep("Influenza",6), "Other", rep("Influenza",3),
"Pertussis", rep("Influenza", 4), rep("Other",1), rep("Influenza",4),
rep("Pertussis",2), "Influenza", "Pertussis", "Influenza", "Other","Influenza",
"Influenza", "Pneumococcus", rep("Influenza",2), "Pertussis", rep("Influenza",7),
rep("Pneumococcus", 1), rep("Influenza",22)))
path.red = factor(path.red, levels=c("Other", "Pneumococcus", "Pertussis", "Influenza"))
inc.years <- incidence(year.inc,"years",group=path.red)
plot(inc.years, alpha=1, border="white")+
theme_bw()+
removeGridX()+
xlab("Publication year")+
ylab("Frequency")+
labs(fill="Pathogen")+
scale_fill_manual(values=rev(c("#FDE725FF","#29AF7FFF","#287D8EFF", "#453781FF")),
breaks=c("Influenza","Pertussis","Pneumococcus", "Other"))+
scale_x_date(limits=as.Date(c("1990-01-01", "2022-01-01")),
breaks=as.Date(c("1990-01-01", "2000-01-01","2010-01-01","2020-01-01")),
labels=c("1990", "2000", "2010", "2020"))
25/76
Design <- c( "Retrospective \ncohort","Randomised \ncontrolled trial",
"Systematic review/ \nmeta-analysis", "Test-negative \ndesign", " Prospective cohort",
"Other cohort", "Case-control", "Cross-sectional")
Design <- factor(Design, levels=rev( c( "Retrospective \ncohort","Randomised \ncontrolled trial",
"Systematic review/ \nmeta-analysis",
"Test-negative \ndesign", " Prospective cohort",
"Other cohort", "Case-control", "Cross-sectional")))
Yes <- c(1, 8, 5, 8, 0, 2, 1, 0)
No <- c(24, 15, 5, 0, 4, 1, 1, 1)
rep <- c(No, Yes)
group <- c(rep("No",9),rep("Yes",9))
group <- factor(group, levels=rev(c("No","Yes")))
VEreport <- data.frame(Design,rep,group)
ggplot(VEreport, aes(x=rep, y=Design, fill=group))+geom_bar(stat="identity")+
scale_fill_manual(values=c("#FDE725FF","#440154FF"))+theme_bw()+ylab("")+
xlab("Number of studies")+labs(fill="Absolute \nVE reported")
Design <- c( "Retrospective \ncohort","Randomised \ncontrolled trial",
"Systematic review/ \nmeta-analysis", "Test-negative \ndesign", " Prospective cohort",
"Other cohort", "Case-control", "Cross-sectional")
Design <- factor(Design, levels=rev( c( "Retrospective \ncohort","Randomised \ncontrolled trial",
"Systematic review/ \nmeta-analysis",
"Test-negative \ndesign", " Prospective cohort",
"Other cohort", "Case-control", "Cross-sectional")))
Yes <- c(1, 8, 5, 8, 0, 2, 1, 0)
No <- c(24, 15, 5, 0, 4, 1, 1, 1)
rep <- c(No, Yes)
group <- c(rep("No",8),rep("Yes",8))
group <- factor(group, levels=rev(c("No","Yes")))
VEreport <- data.frame(Design,rep,group)
ggplot(VEreport, aes(x=rep, y=Design, fill=group))+geom_bar(stat="identity")+
scale_fill_manual(values=c("#FDE725FF","#440154FF"))+theme_bw()+ylab("")+
xlab("Number of studies")+labs(fill="Absolute \nVE reported")
38/76
28/76
27/76
25/76
10/76
24/76
38/0.564
62*0.564
35/76
35/59
40.7*62
0.407*62
25/59
0.161*62
10/59
62*0.387
24/59
0.435*62
27/59
62*0.306
16/59
1/9
0.458*59
26/59
7/9
Age <- c(50, 59.3, 11.1, 66.6, 0, 0, 0, 0)
Sex <- c(36, 42.4, 11.1, 33.3, 0, 0, 0, 0)
Time <- c(13, 16.9, 0, 0, 0, 0, 0, 0)
Comorb <- c(33, 40.7, 11.1, 0, 0, 0, 0, 0, 0)
Region <- c(37, 44.1, 11.1, 33.3, 0, 0, 0, 0)
NR <- c(32, 27.1, 77.8, 33.3, 50.0, 100, 100, 100)
Pathogen <- rep(c("Overall (n=76)", "Influenza (n=59)", "Pertussis (n=9)",
"Pneumococcus (n=3)", "Mumps (n=2)",
"Measles (n=1)", "Hepatitis B (n=1)",
"Leprosy (n=1)"),6)
Age <- c(50, 59.3, 11.1, 66.6, 0, 0, 0, 0)
Sex <- c(36, 42.4, 11.1, 33.3, 0, 0, 0, 0)
Time <- c(13, 16.9, 0, 0, 0, 0, 0, 0)
Comorb <- c(33, 40.7, 11.1, 0, 0, 0, 0, 0, 0)
Region <- c(37, 44.1, 11.1, 33.3, 0, 0, 0, 0)
NR <- c(32, 27.1, 77.8, 33.3, 50.0, 100, 100, 100)
Pathogen <- rep(c("Overall (n=76)", "Influenza (n=59)", "Pertussis (n=9)",
"Pneumococcus (n=3)", "Mumps (n=2)",
"Measles (n=1)", "Hepatitis B (n=1)",
"Leprosy (n=1)"),6)
Pathogen <- factor(Pathogen, levels=rev(c("Overall (n=76)", "Influenza (n=59)",
"Pertussis (n=9)", "Pneumococcus (n=3)",
"Mumps (n=2)",
"Measles (n=1)",
"Hepatitis B (n=1)")))
Covar <- c(Age, Sex, Time, Comorb, Region, NR)
Type <- c(rep("Age",8),rep("Sex",8),rep("Calendar Time",8),rep("Comorbidities",8),
rep("Region",8), rep("Not Reported",8))
Type <- factor(Type,levels=c("Age","Sex","Region","Comorbidities","Calendar Time",
"Not Reported"))
Overall <- c(1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1,
rep(0,7))
ggadj <- data.frame(Pathogen,Covar,Type,Overall)
ggplot(ggadj, aes(x=Covar, y=Pathogen, fill=as.factor(Overall)))+
geom_col()+
facet_wrap(~Type)+
ylab("")+
xlab("Proportion of studies (%)")+
theme_bw()+
scale_fill_manual(values=c("#132B43","#56B1F7"))+
theme(legend.position = "none")
Age <- c(50, 59.3, 11.1, 66.6, 0, 0, 0, 0)
Sex <- c(36, 42.4, 11.1, 33.3, 0, 0, 0, 0)
Time <- c(13, 16.9, 0, 0, 0, 0, 0, 0)
Comorb <- c(33, 40.7, 11.1, 0, 0, 0, 0, 0)
Region <- c(37, 44.1, 11.1, 33.3, 0, 0, 0, 0)
NR <- c(32, 27.1, 77.8, 33.3, 50.0, 100, 100, 100)
Pathogen <- rep(c("Overall (n=76)", "Influenza (n=59)", "Pertussis (n=9)",
"Pneumococcus (n=3)", "Mumps (n=2)",
"Measles (n=1)", "Hepatitis B (n=1)",
"Leprosy (n=1)"),6)
Pathogen <- factor(Pathogen, levels=rev(c("Overall (n=76)", "Influenza (n=59)",
"Pertussis (n=9)", "Pneumococcus (n=3)",
"Mumps (n=2)",
"Measles (n=1)",
"Hepatitis B (n=1)")))
Covar <- c(Age, Sex, Time, Comorb, Region, NR)
Type <- c(rep("Age",8),rep("Sex",8),rep("Calendar Time",8),rep("Comorbidities",8),
rep("Region",8), rep("Not Reported",8))
Type <- factor(Type,levels=c("Age","Sex","Region","Comorbidities","Calendar Time",
"Not Reported"))
Overall <- c(1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1,
rep(0,7))
ggadj <- data.frame(Pathogen,Covar,Type,Overall)
ggplot(ggadj, aes(x=Covar, y=Pathogen, fill=as.factor(Overall)))+
geom_col()+
facet_wrap(~Type)+
ylab("")+
xlab("Proportion of studies (%)")+
theme_bw()+
scale_fill_manual(values=c("#132B43","#56B1F7"))+
theme(legend.position = "none")
Age <- c(50, 59.3, 11.1, 66.6, 0, 0, 0, 0)
Sex <- c(36, 42.4, 11.1, 33.3, 0, 0, 0, 0)
Time <- c(13, 16.9, 0, 0, 0, 0, 0, 0)
Comorb <- c(33, 40.7, 11.1, 0, 0, 0, 0, 0)
Region <- c(37, 44.1, 11.1, 33.3, 0, 0, 0, 0)
NR <- c(32, 27.1, 77.8, 33.3, 50.0, 100, 100, 100)
Pathogen <- rep(c("Overall (n=76)", "Influenza (n=59)", "Pertussis (n=9)",
"Pneumococcus (n=3)", "Mumps (n=2)",
"Measles (n=1)", "Hepatitis B (n=1)",
"Leprosy (n=1)"),6)
Pathogen <- factor(Pathogen, levels=rev(c("Overall (n=76)", "Influenza (n=59)",
"Pertussis (n=9)", "Pneumococcus (n=3)",
"Mumps (n=2)",
"Measles (n=1)",
"Hepatitis B (n=1)", "Leprosy (n=1)")))
Covar <- c(Age, Sex, Time, Comorb, Region, NR)
Type <- c(rep("Age",8),rep("Sex",8),rep("Calendar Time",8),rep("Comorbidities",8),
rep("Region",8), rep("Not Reported",8))
Type <- factor(Type,levels=c("Age","Sex","Region","Comorbidities","Calendar Time",
"Not Reported"))
Overall <- c(1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1, rep(0,7), 1,
rep(0,7))
ggadj <- data.frame(Pathogen,Covar,Type,Overall)
ggplot(ggadj, aes(x=Covar, y=Pathogen, fill=as.factor(Overall)))+
geom_col()+
facet_wrap(~Type)+
ylab("")+
xlab("Proportion of studies (%)")+
theme_bw()+
scale_fill_manual(values=c("#132B43","#56B1F7"))+
theme(legend.position = "none")
10/12.1
10/12.4
50/62
#' Graphical user interface to multi-arm trial design determination
#'
#' \code{gui()} run an R Shiny web browser based graphical user interface for
#' running \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_gs_bern}}, \code{\link{des_gs_norm}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}}, and their associated S3
#' plotting functions.
#'
#' @examples
#' # Launch the graphical user interface
#' \dontrun{gui()}
#' @seealso \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_dtl_pois}}, \code{\link{des_gs_bern}},
#' \code{\link{des_gs_norm}}, \code{\link{des_gs_pois}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}},
#' \code{\link{des_ss_pois}},
#' \code{\link{plot.multiarm_des_dtl_bern}},
#' \code{\link{plot.multiarm_des_dtl_norm}},
#' \code{\link{plot.multiarm_des_dtl_pois}},
#' \code{\link{plot.multiarm_des_gs_bern}},
#' \code{\link{plot.multiarm_des_gs_norm}},
#' \code{\link{plot.multiarm_des_gs_pois}},
#' \code{\link{plot.multiarm_des_ss_bern}},
#' \code{\link{plot.multiarm_des_ss_norm}},
#' \code{\link{plot.multiarm_des_ss_pois}}.
#' @export
gui <- function() {
app_dir <- system.file("shiny", "multiarm", package = "multiarm")
if (app_dir == "") {
stop("Could not find required directory for Shiny graphical user ",
"interface. Try re-installing multiarm.")
}
shiny::runApp(app_dir, launch.browser = TRUE, display.mode = "normal")
}
gui()
devtools::install_github("mjg211/multiarm")
#' Graphical user interface to multi-arm trial design determination
#'
#' \code{gui()} run an R Shiny web browser based graphical user interface for
#' running \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_gs_bern}}, \code{\link{des_gs_norm}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}}, and their associated S3
#' plotting functions.
#'
#' @examples
#' # Launch the graphical user interface
#' \dontrun{gui()}
#' @seealso \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_dtl_pois}}, \code{\link{des_gs_bern}},
#' \code{\link{des_gs_norm}}, \code{\link{des_gs_pois}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}},
#' \code{\link{des_ss_pois}},
#' \code{\link{plot.multiarm_des_dtl_bern}},
#' \code{\link{plot.multiarm_des_dtl_norm}},
#' \code{\link{plot.multiarm_des_dtl_pois}},
#' \code{\link{plot.multiarm_des_gs_bern}},
#' \code{\link{plot.multiarm_des_gs_norm}},
#' \code{\link{plot.multiarm_des_gs_pois}},
#' \code{\link{plot.multiarm_des_ss_bern}},
#' \code{\link{plot.multiarm_des_ss_norm}},
#' \code{\link{plot.multiarm_des_ss_pois}}.
#' @export
gui <- function() {
app_dir <- system.file("shiny", "multiarm", package = "multiarm")
if (app_dir == "") {
stop("Could not find required directory for Shiny graphical user ",
"interface. Try re-installing multiarm.")
}
shiny::runApp(app_dir, launch.browser = TRUE, display.mode = "normal")
}
gui()
install.packages('rclipboard')
library('rclipboard')
gui()
install.packages('shinybusy')
library('shinybusy')
gui()
install.packages('sever')
library('sever')
gui()
install.packages('htmltools')
install.packages("htmltools")
library("htmltools")
gui()
#' Graphical user interface to multi-arm trial design determination
#'
#' \code{gui()} run an R Shiny web browser based graphical user interface for
#' running \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_gs_bern}}, \code{\link{des_gs_norm}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}}, and their associated S3
#' plotting functions.
#'
#' @examples
#' # Launch the graphical user interface
#' \dontrun{gui()}
#' @seealso \code{\link{des_dtl_bern}}, \code{\link{des_dtl_norm}},
#' \code{\link{des_dtl_pois}}, \code{\link{des_gs_bern}},
#' \code{\link{des_gs_norm}}, \code{\link{des_gs_pois}},
#' \code{\link{des_ss_bern}}, \code{\link{des_ss_norm}},
#' \code{\link{des_ss_pois}},
#' \code{\link{plot.multiarm_des_dtl_bern}},
#' \code{\link{plot.multiarm_des_dtl_norm}},
#' \code{\link{plot.multiarm_des_dtl_pois}},
#' \code{\link{plot.multiarm_des_gs_bern}},
#' \code{\link{plot.multiarm_des_gs_norm}},
#' \code{\link{plot.multiarm_des_gs_pois}},
#' \code{\link{plot.multiarm_des_ss_bern}},
#' \code{\link{plot.multiarm_des_ss_norm}},
#' \code{\link{plot.multiarm_des_ss_pois}}.
#' @export
gui <- function() {
app_dir <- system.file("shiny", "multiarm", package = "multiarm")
if (app_dir == "") {
stop("Could not find required directory for Shiny graphical user ",
"interface. Try re-installing multiarm.")
}
shiny::runApp(app_dir, launch.browser = TRUE, display.mode = "normal")
}
gui()
1/63
45/73
install.packages('devtools')
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
library('devtools')
library(devtools)
install.packages("roxygen2")
library('roxygen2')
library(devtools)
install_github("martinamcm/augbin_rheum")
library(augbinrheum)
Egdata11 <- read.csv("~/Downloads/AugBin-master/Egdata11.csv")
View(Egdata11)
augbinrheum::augbinrheum(Egdata11,1,1,0)
library(augbinrheum)
library(augbinrheum)
Egdata11 <- read.csv("~/Downloads/AugBin-master/Egdata11.csv")
View(Egdata11)
augbinrheum::augbinrheum(Egdata11)
augbinrheum::augbinrheum(Egdata11,1,1,0)
augbinrheum::augbinrheum(Egdata11,1,1,1)
hist(Egdata11[,3])
augbinrheum::augbinrheum(Egdata11,1,1,-2)
augbinrheum::augbinrheum(Egdata11,1,1,-3)
knitr::opts_chunk$set(
collapse  = TRUE,
comment   = "#>"
)
augmean_est <- data_fit$risk_diff$est[1]
data_fit<-augbinrheum(Egdata11,1,1,-3)
augmean_est <- data_fit$risk_diff$est[1]
binmean_est <- data_fit$risk_diff$est[2]
augvar_est <- ((data_fit$risk_diff$ci_upper[1]-augmean_est)/1.96)^2
binvar_est <- ((data_fit$risk_diff$ci_upper[2]-binmean_est)/1.96)^2
sampsizecomp(augmean_est,binmean_est,augvar_est,binvar_est,0.05,0.2)
sampsizecomp <- function(augmean,binmean,augvar,binvar,alpha,beta){
samp = samplesize(augmean,binmean,augvar,binvar,alpha,beta)
ceiling(samp)
}
samplesize<-function(mean.lat,mean.bin,var.lat,var.bin,alpha,beta){
n.lat=(2*var.lat*(qnorm(1-beta)-(qnorm(alpha)))^2)/(mean.lat)^2
n.bin=(2*var.bin*(qnorm(1-beta)-(qnorm(alpha)))^2)/(mean.lat)^2
return(c(n.lat,n.bin))
}
powerfunc<-function(mean,var,alpha,n){
power.lat=pnorm((mean/sqrt(2*var/n))-qnorm(1-alpha))
return(power.lat)
}
sampsizecomp <- function(augmean,binmean,augvar,binvar,alpha,beta){
samp = samplesize(augmean,binmean,augvar,binvar,alpha,beta)
ceiling(samp)
}
sampsizecomp(augmean_est,binmean_est,augvar_est,binvar_est,0.05,0.2)
augmean_est
binmean_est
augvar_est
binvar_est
Egdata21 <- read.csv("~/Downloads/MultSampSize-master/Egdata21.csv")
View(Egdata21)
data_fit <- augbinrheum(Egdata21,2,1,c(-2,-2))
augmean_est <- data_fit$risk_diff$est[1]
binmean_est <- data_fit$risk_diff$est[2]
augvar_est <- ((data_fit$risk_diff$ci_upper[1]-augmean_est)/1.96)^2
binvar_est <- ((data_fit$risk_diff$ci_upper[2]-binmean_est)/1.96)^2
sampsizecomp(augmean_est,binmean_est,augvar_est,binvar_est,0.05,0.2)
hist(Egdata21[,3])
hist(Egdata21[,4])
augmean_est
binmean_est
augvar_est
binvar_est
data_fit <- augbinrheum(Egdata21,2,1,c(4,0))
augmean_est <- data_fit$risk_diff$est[1]
binmean_est <- data_fit$risk_diff$est[2]
augvar_est <- ((data_fit$risk_diff$ci_upper[1]-augmean_est)/1.96)^2
binvar_est <- ((data_fit$risk_diff$ci_upper[2]-binmean_est)/1.96)^2
sampsizecomp(augmean_est,binmean_est,augvar_est,binvar_est,0.05,0.2)
hist(Egdata21[,3])
hist(Egdata21[,4])
data_fit <- augbinrheum(Egdata21,2,1,c(15,4))
augmean_est <- data_fit$risk_diff$est[1]
binmean_est <- data_fit$risk_diff$est[2]
augvar_est <- ((data_fit$risk_diff$ci_upper[1]-augmean_est)/1.96)^2
binvar_est <- ((data_fit$risk_diff$ci_upper[2]-binmean_est)/1.96)^2
sampsizecomp(augmean_est,binmean_est,augvar_est,binvar_est,0.05,0.2)
augmean_est
binmean_est
sampsizecomp <- function(augmean,binmean,augvar,binvar,alpha,beta){
samp = samplesize(augmean,binmean,augvar,binvar,alpha,beta)
est_samp <- ceiling(samp)
Method <- c("Latent Variable", "Standard Binary")
tibble::tibble(Method = Method,
samp_size = est_samp)
}
sampsizecomp(augmean_est,binmean_est,augvar_est,binvar_est,0.05,0.2)
sampsizecomp <- function(augmean,binmean,augvar,binvar,alpha,beta){
samp = samplesize(augmean,binmean,augvar,binvar,alpha,beta)
est_samp <- ceiling(samp)
Method <- c("Latent Variable", "Standard Binary")
tibble::tibble(Method = Method,
samp_size_per_arm = est_samp)
}
sampsizecomp(augmean_est,binmean_est,augvar_est,binvar_est,0.05,0.2)
data_fit <- augbinrheum(Egdata21,2,1,c(18,4))
augmean_est <- data_fit$risk_diff$est[1]
binmean_est <- data_fit$risk_diff$est[2]
augvar_est <- ((data_fit$risk_diff$ci_upper[1]-augmean_est)/1.96)^2
binvar_est <- ((data_fit$risk_diff$ci_upper[2]-binmean_est)/1.96)^2
sampsizecomp(augmean_est,binmean_est,augvar_est,binvar_est,0.05,0.2)
data_fit <- augbinrheum(Egdata21,2,1,c(18,6))
augmean_est <- data_fit$risk_diff$est[1]
binmean_est <- data_fit$risk_diff$est[2]
augvar_est <- ((data_fit$risk_diff$ci_upper[1]-augmean_est)/1.96)^2
binvar_est <- ((data_fit$risk_diff$ci_upper[2]-binmean_est)/1.96)^2
sampsizecomp(augmean_est,binmean_est,augvar_est,binvar_est,0.05,0.2)
24/40
sampsizecomp(augmean_est,binmean_est,augvar_est,binvar_est,0.05,0.2)
devtools::check()
setwd("~/Documents/GitHub/mult_sampsize")
devtools::check()
roxygen2::roxygenize()
rm(list = c("powerfunc", "samplesize", "sampsizecomp"))
roxygen2::roxygenize()
?multsampsize
library(multsampsize)
?multsampsize
remove.packages('multsampsize')
devtools::install_github("martinamcm/mult_sampsize")
library(multsampsize)
?sampsizecomp
?augbin
library(augbin)
?augbin
?sampsizecomp
sampsizecomp <- function(augmean,binmean,augvar,binvar,alpha,beta){
samp = samplesize(augmean,binmean,augvar,binvar,alpha,beta)
est_samp <- ceiling(samp)
Method <- c("Latent Variable", "Standard Binary")
tibble::tibble(Method = Method,
samp_size_per_arm = est_samp)
}
devtools::install_github("martinamcm/mult_sampsize")
library(multsampsize)
?sampsizecom
?sampsizecomp
?sampsizecomp
roxygenize()
roxygen2::roxygenize()
rm(list = c("sampsizecomp"))
roxygen2::roxygenize()
